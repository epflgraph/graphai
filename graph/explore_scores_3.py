import numpy as np
import pandas as pd

df = pd.DataFrame(
    [
        [1.0, 0.9882808145262910, 1.0, 0.6400000000000000, 0.6],
        [0.984807753012208, 0.9882808145262910, 1.0, 0.5663716814159290, 0.6],
        [1.0, 0.9882808145262910, 0.4111900188382940, 0.9975062344139650, 1],
        [0.984807753012208, 0.627130570020838, 0.9837836658925910, 0.552486187845304, 0.6],
        [1.0, 0.9882808145262910, 0.10116544669151500, 0.9878048780487810, 1],
        [1.0, 0.627130570020838, 0.23817120134010500, 1.0, 1],
        [1.0, 0.7418190038155240, 0.04398867853447630, 0.9979381443298970, 1],
        [0.984807753012208, 0.9882808145262910, 0.3520057209121120, 0.45248868778280500, 0.2],
        [1.0, 0.5066067454798520, 0.1604802703788250, 1.0, 1],
        [1.0, 0.627130570020838, 0.0593683905458482, 0.9324137931034480, 0.7],
        [1.0, 0.40035187456352000, 0.20119038046780100, 1.0, 1],
        [0.8660254037844390, 0.9882808145262910, 0.4477582046211000, 0.22145328719723200, 0.2],
        [1.0, 0.5066067454798520, 0.16910589683348000, 0.839344262295082, 0.4],
        [0.984807753012208, 0.627130570020838, 0.01144344187229950, 0.8620689655172410, 0.4],
        [0.766044443118978, 0.9882808145262910, 0.32990184983532300, 0.36728837876614100, 0.2],
        [0.766044443118978, 0.627130570020838, 0.15862090441191300, 0.868632707774799, 0.3],
        [1.0, 0.7418190038155240, 0.16521853217201000, 0.4796003330557870, 0.8],
        [1.0, 0.09724648742962140, 0.24821478865742300, 1.0, 1],
        [0.9396926207859080, 0.32682496560801500, 0.5214428595899050, 0.5433962264150940, 0.4],
        [0.6427876096865390, 0.9882808145262910, 0.35817313230119400, 0.24615384615384600, 0.2],
        [0.17364817766693000, 0.9882808145262910, 0.35295288230033700, 0.7191011235955060, 0.2],
        [0.984807753012208, 0.5683872688237540, 0.14662895209808200, 0.5285481239804240, 0.8],
        [0.3420201433256690, 0.9882808145262910, 0.1611194045930860, 0.7191011235955060, 0.3],
        [1.0, 0.16790352681634600, 0.03792129172442340, 1.0, 1],
        [0.984807753012208, 0.7418190038155240, 0.1773054503668400, 0.25388601036269400, 0.2],
        [0.8660254037844390, 0.7418190038155240, 0.17460965386749100, 0.3414120126448890, 0.6],
        [0.766044443118978, 0.40035187456352000, 0.1516090097242440, 0.8000000000000000, 0.2],
        [0.8660254037844390, 0.5683872688237540, 0.019645095510311800, 0.6621621621621620, 0],
        [0.766044443118978, 0.9882808145262910, 0.1611194045930860, 0.20000000000000000, 0.3],
        [0.766044443118978, 0.259289262770867, 0.0890630260349761, 0.9900990099009900, 0],
        [0.8660254037844390, 0.259289262770867, 0.16026806757458500, 0.8000000000000000, 0.2],
        [0.5000000000000000, 0.9882808145262910, 0.42165592584933500, 0.15058823529411800, 0.3],
        [0.984807753012208, 0.259289262770867, 0.009459907217802140, 0.8000000000000000, 0.4],
        [1.0, 0.41829386332041800, 0.21594347375344900, 0.41491085899513800, 0.6],
        [0.3420201433256690, 0.627130570020838, 0.9837836658925910, 0.09068010075566750, 0.4],
        [1.0, 0.45657487771204100, 0.22796359301143900, 0.34594594594594600, 0.8],
        [1.0, 0.011789549111372800, 0.03398417728652100, 0.9846153846153850, 1],
        [0.8660254037844390, 0.5683872688237540, 0.07094948150721990, 0.5, 0.6],
        [0.6427876096865390, 0.7418190038155240, 0.3125494939148650, 0.3076923076923080, 0.2],
        [0.6427876096865390, 0.7418190038155240, 0.1595427581200850, 0.46006389776357800, 0.4],
        [0.766044443118978, 0.41829386332041800, 0.39957747597177000, 0.41295051924251700, 0.4],
        [0.984807753012208, 0.39475670201448700, 0.1857480129693100, 0.42352941176470600, 0],
        [0.766044443118978, 0.5066067454798520, 0.1604802703788250, 0.552486187845304, 0.3],
        [1.0, 0.259289262770867, 0.24435502334426000, 0.4655581947743470, 0],
        [0.9396926207859080, 0.40035187456352000, 0.12812369548292400, 0.5, 0],
        [0.984807753012208, 0.7418190038155240, 0.16521853217201000, 0.07547169811320750, 0.4],
        [0.5000000000000000, 0.5683872688237540, 0.02522651384678110, 0.8711340206185570, 0.2],
        [0.8660254037844390, 0.40035187456352000, 0.1195159057279200, 0.5663716814159290, 0],
        [1.0, 0.7418190038155240, 0.04398867853447630, 0.1589825119236880, 0.2],
        [1.0, 0.15912212722371800, 0.039416410148225000, 0.7393501805054150, 0],
        [0.9396926207859080, 0.500483806265333, 0.18582009764252100, 0.3076923076923080, 0],
        [0.984807753012208, 0.15912212722371800, 0.06425382994347240, 0.7137192704203010, 0],
        [0.17364817766693000, 0.627130570020838, 0.37259915557204200, 0.7280898876404500, 0.6],
        [0.8660254037844390, 0.15912212722371800, 0.15080071066122500, 0.7191011235955060, 0],
        [0.9396926207859080, 0.011789549111372800, 0.066842691384293, 0.8767123287671230, 0.4],
        [0.5000000000000000, 0.7418190038155240, 0.4601971386684270, 0.16940363007778700, 0],
        [0.5000000000000000, 0.39475670201448700, 0.12195924268722100, 0.8520710059171600, 0],
        [1.0, 0.5066067454798520, 0.20627022144475500, 0.13793103448275900, 0.4],
        [0.6427876096865390, 0.627130570020838, 0.03176997167774740, 0.5322245322245320, 0],
        [0.766044443118978, 0.500483806265333, 0.18582009764252100, 0.3542958370239150, 0],
        [0.8660254037844390, 0.011789549111372800, 0.07562824506521350, 0.8520710059171600, 0],
        [0.984807753012208, 0.023578580331382700, 0.026077049136141500, 0.7707006369426750, 0.2],
        [0.766044443118978, 0.259289262770867, 0.01158356709827630, 0.7677543186180420, 0.5],
        [0.8660254037844390, 0.259289262770867, 0.2874919107835530, 0.39024390243902400, 0],
        [1.0, 0.0736720500926432, 0.01411658420220260, 0.7075812274368230, 0.9],
        [0.9396926207859080, 0.0736720500926432, 0.03171612102128350, 0.7411944869831550, 0],
        [0.9396926207859080, 0.011789549111372800, 0.059943067156160400, 0.7731543624161080, 0],
        [0.5000000000000000, 0.7418190038155240, 0.2590462061123450, 0.2746781115879830, 0.2],
        [0.8660254037844390, 0.39475670201448700, 0.012810354583017600, 0.5, 0],
        [0.6427876096865390, 0.259289262770867, 0.13415662922475700, 0.7352941176470590, 0],
        [0.6427876096865390, 0.14733775668473200, 0.11268207295398900, 0.8520710059171600, 0],
        [0.3420201433256690, 0.9882808145262910, 0.012339037177365100, 0.40983606557377100, 0],
        [0.5000000000000000, 0.41829386332041800, 0.6650146552894250, 0.16839916839916800, 0.4],
        [0.8660254037844390, 0.32682496560801500, 0.0645760895834263, 0.4655581947743470, 0.7],
        [0.8660254037844390, 0.0618830188726333, 0.018919885385085800, 0.7731543624161080, 0],
        [0.984807753012208, 0.011789549111372800, 0.025799785657359400, 0.6923076923076920, 0],
        [0.8660254037844390, 0.011789549111372800, 0.06327498961175430, 0.7502774694783570, 0.2],
        [0.766044443118978, 0.7418190038155240, 0.18277295931074900, 0.0, 0.2],
        [0.6427876096865390, 0.5683872688237540, 0.3740234593183510, 0.1, 0.5],
        [0.766044443118978, 0.09427289574915370, 0.13123407818251200, 0.6923076923076920, 0],
        [0.8660254037844390, 0.5066067454798520, 0.09622523429416690, 0.20000000000000000, 0],
        [0.6427876096865390, 0.41829386332041800, 0.39957747597177000, 0.20000000000000000, 0],
        [0.5000000000000000, 0.5683872688237540, 0.4015626424643420, 0.18900675024108000, 0.8],
        [0.5000000000000000, 0.45657487771204100, 0.3891440354434660, 0.3076923076923080, 0.2],
        [0.8660254037844390, 0.0618830188726333, 0.137337266100933, 0.5827586206896550, 0.4],
        [0.5000000000000000, 0.5683872688237540, 0.07094948150721990, 0.5, 0.2],
        [0.3420201433256690, 0.41829386332041800, 0.06466084583403480, 0.8000000000000000, 0.2],
        [0.8660254037844390, 0.5066067454798520, 0.06862028097881930, 0.18130311614730900, 0.4],
        [0.8660254037844390, 0.500483806265333, 0.003994902790589970, 0.2510373443983400, 0],
        [0.984807753012208, 0.09724648742962140, 0.027288234829899400, 0.5, 0],
        [0.6427876096865390, 0.7418190038155240, 0.0951920679444588, 0.12673267326732700, 0.6],
        [0.0, 0.5683872688237540, 0.2462480548401460, 0.7798933739527800, 0.9],
        [1.0, 0.3712029760098290, 0.07519748238319050, 0.14792899408284000, 0],
        [0.984807753012208, 0.3712029760098290, 0.03549129326764560, 0.16940363007778700, 0],
        [0.8660254037844390, 0.08546004555267730, 0.38002280557563900, 0.21891891891891900, 0.2],
        [0.6427876096865390, 0.0618830188726333, 0.19166126912573600, 0.654054054054054, 0.2],
        [0.8660254037844390, 0.15912212722371800, 0.007601740297128060, 0.5, 0.2],
        [0.766044443118978, 0.259289262770867, 0.41300934091784200, 0.08070617906683480, 0.2],
        [0.984807753012208, 0.1561372753097480, 0.013514173439569200, 0.36, 0.6],
        [0.8660254037844390, 0.259289262770867, 0.24342984210540500, 0.12673267326732700, 0.2],
        [0.9396926207859080, 0.14733775668473200, 0.166007313032667, 0.2403560830860530, 0.2],
        [0.766044443118978, 0.45657487771204100, 0.012520525951060600, 0.2570694087403600, 0],
        [0.6427876096865390, 0.32682496560801500, 0.41684844574199100, 0.1, 0],
        [0.6427876096865390, 0.12376331934775400, 0.014189896301444000, 0.70298769771529, 0],
        [0.6427876096865390, 0.5066067454798520, 0.08175010688716770, 0.2387332521315470, 0.2],
        [0.0, 0.9882808145262910, 0.32990184983532300, 0.15058823529411800, 0.2],
        [0.766044443118978, 0.5066067454798520, 0.07606201600525230, 0.09425070688030160, 0],
        [0.5000000000000000, 0.259289262770867, 0.07094948150721990, 0.6097560975609760, 0],
        [0.0, 0.627130570020838, 0.18338617567941600, 0.6023529411764710, 0.4],
        [0.8660254037844390, 0.0618830188726333, 0.2378152974560210, 0.23584905660377400, 0.2],
        [0.6427876096865390, 0.3712029760098290, 0.0636292758476606, 0.3076923076923080, 0],
        [0.6427876096865390, 0.39475670201448700, 0.12767512448104300, 0.2139673105497770, 0],
        [0.984807753012208, 0.09724648742962140, 0.04132218417099050, 0.24615384615384600, 0],
        [0.6427876096865390, 0.18563818314726200, 0.13226190203626200, 0.4041237113402060, 0],
        [0.8660254037844390, 0.058937388207346900, 0.2526047736357860, 0.18130311614730900, 0],
        [0.3420201433256690, 0.32682496560801500, 0.22594458361618800, 0.46006389776357800, 0.2],
        [0.0, 0.9882808145262910, 0.22481180419444400, 0.11678832116788300, 0],
        [1.0, 0.18563818314726200, 0.05389044493320910, 0.08896797153024920, 0],
        [0.3420201433256690, 0.3502716073558450, 0.05518294582772240, 0.5586206896551720, 0],
        [0.9396926207859080, 0.08546004555267730, 0.021593332797759300, 0.2521400778210120, 0],
        [0.0, 0.7418190038155240, 0.2850409467549900, 0.2703448275862070, 0.2],
        [0.6427876096865390, 0.2500934697612610, 0.17401715474742500, 0.22477064220183500, 0],
        [0.984807753012208, 0.11781005705508500, 0.04288649252915800, 0.12328767123287700, 0],
        [0.5000000000000000, 0.45657487771204100, 0.11567909966697200, 0.18725617685305600, 0.2],
        [0.984807753012208, 0.09724648742962140, 0.028218311582977500, 0.13793103448275900, 0],
        [0.8660254037844390, 0.09427289574915370, 0.018919885385085800, 0.24615384615384600, 0],
        [0.17364817766693000, 0.41829386332041800, 0.2730326263957740, 0.34594594594594600, 0.2],
        [0.0, 0.41829386332041800, 0.4427145975443520, 0.32400000000000000, 0.2],
        [0.3420201433256690, 0.45657487771204100, 0.18056464250894100, 0.20000000000000000, 0.2],
        [0.9396926207859080, 0.0, 0.1834854127192000, 0.05245901639344260, 0],
        [0.6427876096865390, 0.18563818314726200, 0.016234546839311600, 0.31805273833671400, 0],
        [0.3420201433256690, 0.40035187456352000, 0.06700781211260470, 0.34594594594594600, 0.3],
        [0.8660254037844390, 0.09724648742962140, 0.0026836712329587400, 0.18900675024108000, 0],
        [0.5000000000000000, 0.0, 0.026840813209618500, 0.5971058644325970, 0],
        [0.766044443118978, 0.0618830188726333, 0.005552570277288380, 0.28514851485148500, 0],
        [0.17364817766693000, 0.39475670201448700, 0.043958950701724800, 0.5, 0],
        [0.6427876096865390, 0.3502716073558450, 0.047299677987973700, 0.06639004149377590, 0],
        [0.17364817766693000, 0.45657487771204100, 0.3375994003122790, 0.13793103448275900, 0.2],
        [0.6427876096865390, 0.0736720500926432, 0.015848695179082800, 0.3689956331877730, 0],
        [1.0, 0.0, 0.005048807673742670, 0.07961783439490450, 0],
        [0.6427876096865390, 0.09724648742962140, 0.24821478865742300, 0.09288824383164010, 0],
        [0.766044443118978, 0.011789549111372800, 0.005912454427285600, 0.28514851485148500, 0],
        [0.6427876096865390, 0.023578580331382700, 0.11887323822947900, 0.2746781115879830, 0],
        [0.3420201433256690, 0.0618830188726333, 0.06385453335649790, 0.5901639344262290, 0],
        [0.0, 0.500483806265333, 0.04392113462808140, 0.4811387900355870, 0],
        [0.8660254037844390, 0.0, 0.00478860045031494, 0.15058823529411800, 0],
        [0.5000000000000000, 0.15912212722371800, 0.1608188483995260, 0.20000000000000000, 0],
        [0.766044443118978, 0.1561372753097480, 0.013514173439569200, 0.07547169811320750, 0.5],
        [0.6427876096865390, 0.011789549111372800, 0.05684888931814900, 0.28514851485148500, 0],
        [0.17364817766693000, 0.0618830188726333, 0.06385453335649790, 0.6923076923076920, 0],
        [0.3420201433256690, 0.14733775668473200, 0.20025366284325400, 0.2905788876276960, 0.2],
        [0.3420201433256690, 0.10604380554848700, 0.034653663688971300, 0.46972477064220200, 0],
        [0.3420201433256690, 0.0, 0.05305856226253700, 0.5322245322245320, 0],
        [0.17364817766693000, 0.259289262770867, 0.24342984210540500, 0.24615384615384600, 0],
        [0.17364817766693000, 0.45657487771204100, 0.053854984382351800, 0.23336371923427500, 0.5],
        [0.0, 0.5066067454798520, 0.09995859601107680, 0.3076923076923080, 0],
        [0.17364817766693000, 0.3502716073558450, 0.20404991418057100, 0.17123287671232900, 0],
        [0.0, 0.16790352681634600, 0.04097945560562170, 0.6790450928381960, 0],
        [0.5000000000000000, 0.2500934697612610, 0.05791797739034430, 0.06923076923076920, 0],
        [0.0, 0.0618830188726333, 0.07094948150721990, 0.7411944869831550, 0],
        [0.0, 0.259289262770867, 0.009459907217802140, 0.5990099009900990, 0.4],
        [0.6427876096865390, 0.047153017668360900, 0.09758819511876510, 0.058823529411764700, 0],
        [0.6427876096865390, 0.12376331934775400, 0.014189896301444000, 0.04705882352941170, 0]
    ],
    columns=['X1', 'X2', 'X3', 'X4', 'Y']
)

print(df.corr())

n = 11

coeffs = pd.merge(
    pd.Series(np.linspace(0, 1, n), name='X1'),
    pd.merge(
        pd.Series(np.linspace(0, 1, n), name='X2'),
        pd.merge(
            pd.Series(np.linspace(0, 1, n), name='X3'),
            pd.Series(np.linspace(0, 1, n), name='X4'),
            how='cross'
        ),
        how='cross'
    ),
    how='cross'
)

coeffs = coeffs[coeffs.sum(axis=1) == 1].reset_index(drop=True)

errors = coeffs @ df[['X1', 'X2', 'X3', 'X4']].transpose() - df['Y']

sqerrors = errors ** 2

sumsqerrors = sqerrors.sum(axis=1)

coeffs['SUMSQERR'] = sumsqerrors

coeffs = coeffs.sort_values(by='SUMSQERR').head(20)

print(coeffs)
